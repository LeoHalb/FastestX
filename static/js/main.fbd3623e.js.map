{"version":3,"file":"static/js/main.fbd3623e.js","mappings":"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","sources":["components/Activity.js","components/Feed.js","App.js","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ActivityIndicator,\n  Pressable,\n  LayoutAnimation\n} from \"react-native\";\nimport Ionicons from '@expo/vector-icons/Ionicons';\nimport { FontAwesome5 } from '@expo/vector-icons';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport * as Linking from 'expo-linking';\n// import { ActivityMap } from './ActivityMap'\n\nexport default function Activity(props) {\n\n\tuseEffect(() => {\n\t\tLayoutAnimation.configureNext(LayoutAnimation.Presets.easeInEaseOut);\n\t\tsetExpanded(false)\n\t\tsetFastestDistance('')\n\t\tsetDistanceMeasure(props.distanceMeasure)\n\t\tsetTimeMeasure(props.timeMeasure)\n\t}, [props.distanceMeasure, props.timeMeasure])\n\n\tconst [fastestDistance, setFastestDistance] = useState('')\n\tconst [loading, setLoading] = useState(false)\n\tconst [expanded, setExpanded] = useState(false)\n\tconst [distanceMeasure, setDistanceMeasure] = useState('1000')\n\tconst [timeMeasure, setTimeMeasure] = useState('')\n\n\tasync function findFastestDistance() {\n\t\tconst trivial_winner = {\n\t\t\tstart: {distance: 0, time: 0},\n\t\t\tend: {distance: 0, time: 0},\n\t\t\tdistance: 0,\n\t\t\ttime: 999999999999999,\n\t\t\theartrate: 0,\n\t\t\televation: {gain: 0, loss: 0},\n\t\t\trange: {start: 0, end: 0}\n\t\t}\n\n\t\tif (distanceMeasure === 0 || timeMeasure === 0) {\n\t\t\tsetFastestDistance(trivial_winner)\n\t\t} else if (!fastestDistance && distanceMeasure !== '0' && distanceMeasure !== '' && loading === false) {\n\t\t\tsetLoading(true)\n\t\t\tconst streams = await getStreams(props.activity.id)\n\t\t\tconst altitudeStream = streams.altitude?.data\n\t\t\tconst distanceStream = streams.distance?.data\n\t\t\tconst timeStream = streams.time?.data\n\t\t\tconst heartrateStream = streams.heartrate?.data\n\t\t\tlet fastestSegment = trivial_winner\n\n\t\t\tprops.activity.total_elevation_gain = Math.round(altitudeStream?.reduce((acc, curr, id, arr) => curr > arr[id - 1] ? acc + curr - arr[id - 1] : acc + 0, 0))\n\n\t\t\tif (distanceMeasure >= props.activity.distance) {\n\t\t\t\tsetFastestDistance(undefined)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (distanceStream && timeStream) {\n\t\t\t\tconst distanceStreamUpperLimit = distanceStream.slice(-1) - distanceMeasure\n\n\t\t\t\tfor (let i = 0; distanceStream[i] < distanceStreamUpperLimit; i++) {\n\t\t\t\t\tconst j = distanceStream.indexOf(distanceStream.slice(i).find(el => el - distanceStream[i] >= distanceMeasure))\n\t\t\t\t\tif(j !== -1) {\n\t\t\t\t\t\tconst currentSegment = {\n\t\t\t\t\t\t\tdistance: Math.round((distanceStream[j] - distanceStream[i]) * 10) / 10,\n\t\t\t\t\t\t\ttime: timeStream[j] - timeStream[i],\n\t\t\t\t\t\t\trange: {start: i, end: j}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (currentSegment.time < fastestSegment.time || (currentSegment.time === fastestSegment.time && currentSegment.distance > fastestSegment.distance)) {\n\t\t\t\t\t\t\tfastestSegment = currentSegment\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (fastestSegment) {\n\t\t\t\t\tfastestSegment.start = {distance: distanceStream[fastestSegment.range.start], time: timeStream[fastestSegment.range.start]}\n\t\t\t\t\tfastestSegment.end = {distance: distanceStream[fastestSegment.range.end], time: timeStream[fastestSegment.range.end]}\n\t\t\t\t\tfastestSegment.pace = timeInHoursAndMinutes(Math.round((1000 / (distanceStream[fastestSegment.range.end] - distanceStream[fastestSegment.range.start])) * (timeStream[fastestSegment.range.end] - timeStream[fastestSegment.range.start])))\n\t\t\t\t\tfastestSegment.heartrate = Math.round(heartrateStream?.slice(fastestSegment.range.start, fastestSegment.range.end + 1).reduce((acc, curr) => acc + curr, 0) / heartrateStream?.slice(fastestSegment.range.start, fastestSegment.range.end + 1).length)\n\n\t\t\t\t\tconst relevantAltitudeStream = altitudeStream?.slice(fastestSegment.range.start, fastestSegment.range.end + 1)\n\t\t\t\t\tfastestSegment.elevation = {\n\t\t\t\t\t\tgain: Math.round(relevantAltitudeStream?.reduce((acc, curr, id, arr) => curr > arr[id - 1] ? acc + curr - arr[id - 1] : acc + 0, 0)),\n\t\t\t\t\t\tloss: Math.round(relevantAltitudeStream?.reduce((acc, curr, id, arr) => curr < arr[id - 1] ? acc + arr[id - 1] - curr : acc + 0, 0))\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsetLoading(false)\n\t\t\t\tLayoutAnimation.configureNext(LayoutAnimation.Presets.easeInEaseOut);\n\t\t\t\tsetFastestDistance(fastestSegment === trivial_winner ? undefined : fastestSegment)\n\t\t\t} else {\n\t\t\t\tsetFastestDistance(undefined)\n\t\t\t}\n\t\t} else if (!fastestDistance && timeMeasure !== '0' && timeMeasure !== '' && loading === false) {\n\t\t\tsetLoading(true)\n\t\t\tconst streams = await getStreams(props.activity.id)\n\t\t\tconst altitudeStream = streams.altitude?.data\n\t\t\tconst distanceStream = streams.distance?.data\n\t\t\tconst timeStream = streams.time?.data\n\t\t\tconst heartrateStream = streams.heartrate?.data\n\t\t\tlet fastestSegment = trivial_winner\n\n\t\t\tprops.activity.total_elevation_gain = Math.round(altitudeStream?.reduce((acc, curr, id, arr) => curr > arr[id - 1] ? acc + curr - arr[id - 1] : acc + 0, 0))\n\n\t\t\tif (timeMeasure >= props.activity.elapsed_time) {\n\t\t\t\tsetFastestDistance(undefined)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (distanceStream && timeStream) {\n\t\t\t\tconst timeStreamUpperLimit = timeStream.slice(-1) - timeMeasure\n\n\t\t\t\tfor (let i = 0; timeStream[i] < timeStreamUpperLimit; i++) {\n\t\t\t\t\tconst j = timeStream.indexOf(timeStream.slice(i).find(el => el - timeStream[i] >= timeMeasure))\n\t\t\t\t\tif(j !== -1) {\n\t\t\t\t\t\tconst currentSegment = {\n\t\t\t\t\t\t\tdistance: Math.round((distanceStream[j] - distanceStream[i]) * 10) / 10,\n\t\t\t\t\t\t\ttime: timeStream[j] - timeStream[i],\n\t\t\t\t\t\t\trange: {start: i, end: j}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (currentSegment.time < fastestSegment.time || (currentSegment.time === fastestSegment.time && currentSegment.distance > fastestSegment.distance)) {\n\t\t\t\t\t\t\tfastestSegment = currentSegment\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (fastestSegment) {\n\t\t\t\t\tfastestSegment.start = {distance: distanceStream[fastestSegment.range.start], time: timeStream[fastestSegment.range.start]}\n\t\t\t\t\tfastestSegment.end = {distance: distanceStream[fastestSegment.range.end], time: timeStream[fastestSegment.range.end]}\n\t\t\t\t\tfastestSegment.pace = timeInHoursAndMinutes(Math.round((1000 / (distanceStream[fastestSegment.range.end] - distanceStream[fastestSegment.range.start])) * (timeStream[fastestSegment.range.end] - timeStream[fastestSegment.range.start])))\n\t\t\t\t\tfastestSegment.heartrate = Math.round(heartrateStream?.slice(fastestSegment.range.start, fastestSegment.range.end + 1).reduce((acc, curr) => acc + curr, 0) / heartrateStream?.slice(fastestSegment.range.start, fastestSegment.range.end + 1).length)\n\n\t\t\t\t\tconst relevantAltitudeStream = altitudeStream?.slice(fastestSegment.range.start, fastestSegment.range.end + 1)\n\t\t\t\t\tfastestSegment.elevation = {\n\t\t\t\t\t\tgain: Math.round(relevantAltitudeStream?.reduce((acc, curr, id, arr) => curr > arr[id - 1] ? acc + curr - arr[id - 1] : acc + 0, 0)),\n\t\t\t\t\t\tloss: Math.round(relevantAltitudeStream?.reduce((acc, curr, id, arr) => curr < arr[id - 1] ? acc + arr[id - 1] - curr : acc + 0, 0))\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsetLoading(false)\n\t\t\t\tLayoutAnimation.configureNext(LayoutAnimation.Presets.easeInEaseOut);\n\t\t\t\tsetFastestDistance(fastestSegment === trivial_winner ? undefined : fastestSegment)\n\t\t\t} else {\n\t\t\t\tsetFastestDistance(undefined)\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction timeInHoursAndMinutes(time) {\n\t\tconst hours = Math.floor(time / 3600)\n\t\tlet rest = time - hours * 3600\n\t\tconst minutes = Math.floor(rest / 60)\n\t\trest = time - minutes * 60 - hours * 3600\n\t\tconst seconds = rest < 10 ? `0${rest}` : rest\n\t\treturn `${hours !== 0 ? `${hours}:` < 10 ? `0${hours}:` : `${hours}:` : ''}${minutes < 10 ? `0${minutes}` : minutes}:${seconds} ${hours > 0 ? 'h' : 'min'}`\n\t}\n\n\tconst updateLayout = () => {\n\t\tLayoutAnimation.configureNext(LayoutAnimation.Presets.easeInEaseOut);\n\t\tsetExpanded(!expanded)\n\t};\n\n\tasync function getStreams(id) {\n\t\treturn fetch(`https://www.strava.com/api/v3/activities/${id}/streams?access_token=${props.credentials.accessToken}&keys=time,distance,heartrate,altitude&key_by_type=true`)\n\t\t\t.then((res) => res.json())\n\t}\n\n\tfunction DrawDistance() {\n\t\tif (fastestDistance === undefined || distanceMeasure === '0' || timeMeasure === '0') {\n\t\t\treturn (\n\t\t\t\t<View style={styles.modalContainer}>\n\t\t\t\t\t<View \n\t\t\t\t\t\tstyle={[styles.modalLine, {justifyContent: \"space-evenly\"}]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<View>\n\t\t\t\t\t\t\t{!isNaN(props.activity.elapsed_time) && props.activity.elapsed_time !== 0 &&\n\t\t\t\t\t\t\t\t<Ionicons\n\t\t\t\t\t\t\t\t\tstyle={{textAlign: \"center\"}}\n\t\t\t\t\t\t\t\t\tname=\"timer\" \n\t\t\t\t\t\t\t\t\tsize={28}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{!isNaN(props.activity.distance) && props.activity.distance !== 0 &&\n\t\t\t\t\t\t\t\t<MaterialCommunityIcons\n\t\t\t\t\t\t\t\t\tstyle={{textAlign: \"center\"}}\n\t\t\t\t\t\t\t\t\tname=\"map-marker-distance\" \n\t\t\t\t\t\t\t\t\tsize={28}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{!isNaN(props.activity.average_speed) && props.activity.average_speed !== 0 &&\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\t\tstyle={{display: \"flex\", textAlign: \"center\", fontSize: 22, fontWeight: 'bold'}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t[min/km]\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\t\tstyle={{display: \"flex\", textAlign: \"center\", fontSize: 22, fontWeight: 'bold'}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t[km/h]\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{!isNaN(props.activity.average_heartrate) && props.activity.average_heartrate !== 0 &&\n\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\tstyle={{display: \"flex\", textAlign: \"center\", fontSize: 22, fontWeight: 'bold'}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t[bpm]\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{!isNaN(props.activity.total_elevation_gain) && props.activity.total_elevation_gain !== 0 &&\n\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\tstyle={{display: \"flex\", textAlign: \"center\", fontSize: 22, fontWeight: 'bold'}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t[m]\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<View>\n\t\t\t\t\t\t\t{!isNaN(props.activity.elapsed_time) && props.activity.elapsed_time !== 0 &&\n\t\t\t\t\t\t\t\t<Text \n\t\t\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\t\t\tstyles.name, \n\t\t\t\t\t\t\t\t\t\t{textAlign: \"center\"}\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{`${timeInHoursAndMinutes(props.activity.elapsed_time)}`}\n\t\t\t\t\t\t\t\t</Text>\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{!isNaN(props.activity.distance) && props.activity.distance !== 0 &&\n\t\t\t\t\t\t\t\t<Text \n\t\t\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\t\t\tstyles.name, \n\t\t\t\t\t\t\t\t\t\t{textAlign: \"center\"}\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{`${Math.round(props.activity.distance / 10) / 100} km`}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{!isNaN(props.activity.average_speed) && props.activity.average_speed !== 0 &&\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Text \n\t\t\t\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\t\t\t\tstyles.name, \n\t\t\t\t\t\t\t\t\t\t\t{textAlign: \"center\"}\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{`${timeInHoursAndMinutes(Math.round(1000 / props.activity.average_speed)).replace(' min', '').replace(' h', '')}`}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t\t<Text \n\t\t\t\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\t\t\t\tstyles.name, \n\t\t\t\t\t\t\t\t\t\t\t{textAlign: \"center\"}\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{`${Math.round(props.activity.average_speed * 3.6 * 10) / 10}`}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{!isNaN(props.activity.average_heartrate) && props.activity.average_heartrate !== 0 &&\n\t\t\t\t\t\t\t\t<Text \n\t\t\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\t\t\tstyles.name, \n\t\t\t\t\t\t\t\t\t\t{textAlign: \"center\"}\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{`${Math.round(props.activity.average_heartrate)}`}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{!isNaN(props.activity.total_elevation_gain) && props.activity.total_elevation_gain !== 0 &&\n\t\t\t\t\t\t\t\t<Text \n\t\t\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\t\t\tstyles.name, \n\t\t\t\t\t\t\t\t\t\t{textAlign: \"center\"}\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{`+${props.activity.total_elevation_gain}`}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t)\n\t\t} else if (fastestDistance) {\n\t\t\treturn (\n\t\t\t\t<View style={styles.modalContainer}>\n\t\t\t\t\t<View style={[styles.modalLine, {display: \"flex\"}]}>\n\t\t\t\t\t\t<Text \n\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\tstyles.name,\n\t\t\t\t\t\t\t\t{flex: 1, marginRight: \"auto\"}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${fastestDistance.distance} m`}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<MaterialCommunityIcons\n\t\t\t\t\t\t\tstyle={{display: \"flex\", alignItems: \"center\"}} \n\t\t\t\t\t\t\tname=\"map-marker-distance\"\n\t\t\t\t\t\t\tsize={28}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\tstyles.name,\n\t\t\t\t\t\t\t\t{textAlign: \"right\", flex: 1, marginLeft: \"auto\"}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${Math.round(props.activity.distance / 10) / 100} km`}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={[styles.modalLine, {display: \"flex\"}]}>\n\t\t\t\t\t\t<Text \n\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\tstyles.name,\n\t\t\t\t\t\t\t\t{flex: 1, marginRight: \"auto\"}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${timeInHoursAndMinutes(fastestDistance.time)}`}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Ionicons\n\t\t\t\t\t\t\tstyle={{display: \"flex\", alignItems: \"center\"}} \n\t\t\t\t\t\t\tname=\"timer\"\n\t\t\t\t\t\t\tsize={28}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\tstyles.name,\n\t\t\t\t\t\t\t\t{textAlign: \"right\", flex: 1, marginLeft: \"auto\"}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${timeInHoursAndMinutes(props.activity.elapsed_time)}`}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={[styles.modalLine, {display: \"flex\"}]}>\n\t\t\t\t\t\t<Text \n\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\tstyles.name,\n\t\t\t\t\t\t\t\t{flex: 1, marginRight: \"auto\"}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${fastestDistance.pace.replace(' min', '').replace(' h', '')}`}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={{display: \"flex\", alignItems: \"center\", fontSize: 22, fontWeight: 'bold'}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t[min/km]\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\tstyles.name,\n\t\t\t\t\t\t\t\t{textAlign: \"right\", flex: 1, marginLeft: \"auto\"}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${timeInHoursAndMinutes(Math.round(1000 / props.activity.average_speed)).replace(' min', '').replace(' h', '')}`}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={[styles.modalLine, {display: \"flex\"}]}>\n\t\t\t\t\t\t<Text \n\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\tstyles.name,\n\t\t\t\t\t\t\t\t{flex: 1, marginRight: \"auto\"}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${Math.round((fastestDistance.end.distance - fastestDistance.start.distance) / (fastestDistance.end.time - fastestDistance.start.time) * 3.6 * 10) / 10}`}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={{display: \"flex\", alignItems: \"center\", fontSize: 22, fontWeight: 'bold'}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t[km/h]\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\tstyles.name,\n\t\t\t\t\t\t\t\t{textAlign: \"right\", flex: 1, marginLeft: \"auto\"}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${Math.round(props.activity.distance / 10) / 100}`}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</View>\n\t\t\t\t\t{!isNaN(fastestDistance.heartrate) &&\n\t\t\t\t\t\t<View style={[styles.modalLine, {display: \"flex\"}]}>\n\t\t\t\t\t\t\t<Text \n\t\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\t\tstyles.name,\n\t\t\t\t\t\t\t\t\t{flex: 1, marginRight: \"auto\"}\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{`${fastestDistance.heartrate}`}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tstyle={{display: \"flex\", alignItems: \"center\", fontSize: 22, fontWeight: 'bold'}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t[bpm]\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\t\tstyles.name,\n\t\t\t\t\t\t\t\t\t{textAlign: \"right\", flex: 1, marginLeft: \"auto\"}\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{`${Math.round(props.activity.average_heartrate)}`}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t}\n\t\t\t\t\t{!isNaN(fastestDistance.elevation.gain) && !isNaN(fastestDistance.elevation.loss) &&\n\t\t\t\t\t\t<View style={[styles.modalLine, {display: \"flex\"}]}>\n\t\t\t\t\t\t\t<Text \n\t\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\t\tstyles.name,\n\t\t\t\t\t\t\t\t\t{flex: 1, marginRight: \"auto\"}\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{`+${fastestDistance.elevation.gain} / -${fastestDistance.elevation.loss}`}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tstyle={{display: \"flex\", alignItems: \"center\", fontSize: 22, fontWeight: 'bold'}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t[m]\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\t\tstyles.name,\n\t\t\t\t\t\t\t\t\t{textAlign: \"right\", flex: 1, marginLeft: \"auto\"}\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{`+${Math.round(props.activity.total_elevation_gain)}`}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t}\n\n\t\t\t\t\t{/* <View style={{width: \"100%\"}}>\n\t\t\t\t\t\t<View style={styles.separator} />\n\t\t\t\t\t</View>\n\n\t\t\t\t\t<ActivityMap/> */}\n\n\t\t\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t\t\t<View style={styles.separator} />\n\t\t\t\t\t</View>\n\t\t\t\t\t\n\t\t\t\t\t<View style={[styles.modalLine, {display: \"flex\"}]}>\n\t\t\t\t\t\t<Text \n\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\tstyles.name,\n\t\t\t\t\t\t\t\t{flex: 1, marginRight: \"auto\"}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${Math.round(fastestDistance.start.distance) / 1000} km`}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<FontAwesome5\n\t\t\t\t\t\t\tstyle={{display: \"flex\", alignItems: \"center\"}} \n\t\t\t\t\t\t\tname=\"at\"\n\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\tstyles.name,\n\t\t\t\t\t\t\t\t{textAlign: \"right\", flex: 1, marginLeft: \"auto\"}\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${timeInHoursAndMinutes(fastestDistance.start.time)}`}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t)\n\t\t} else if (loading) {\n\t\t\treturn (\n\t\t\t\t<ActivityIndicator color=\"black\"/>\n\t\t\t)\n\t\t} else {\n\t\t\treturn null\n\t\t}\n  \t}\n\n\treturn (\n\t\t<Pressable\n\t\t\tstyle={styles.item}\n\t\t\tonPress={() => {\n\t\t\t\tfindFastestDistance(props.activity)\n\t\t\t\tupdateLayout()\n\t\t\t}}>\n\t\t\t<Text style={[styles.name, {textAlign: \"center\"}]}>\n\t\t\t\t{`${props.activity.name}`}\n\t\t\t</Text>\n\t\t\t<Text>\n\t\t\t\t{`${new Date(props.activity.start_date).toLocaleDateString()}`}\n\t\t\t</Text>\n\t\t\t<Pressable\n\t\t\t\tonPress={() => Linking.openURL(`https://www.strava.com/activities/${props.activity.id}`)}\n\t\t\t>\n\t\t\t\t<Text\n\t\t\t\t\tstyle={{color: \"blue\", textDecorationColor: \"blue\", textDecorationLine: \"underline\"}}\n\t\t\t\t>\n\t\t\t\t\tView on Strava\n\t\t\t\t</Text>\n\t\t\t</Pressable>\n\t\t\t{expanded && distanceMeasure !== '0' && timeMeasure !== '0' ? \n\t\t\t\t<View style={{width: \"100%\"}}>\n\t\t\t\t\t<View style={styles.separator} />\n\t\t\t\t\t<DrawDistance></DrawDistance>\n\t\t\t\t</View> :\n\t\t\t\tnull\n\t\t\t}\n\t\t</Pressable>\n\t)\n}\n\nconst styles = StyleSheet.create({\n\titem: {\n\t\tmarginHorizontal: 16,\n\t\tmarginTop: 16,\n\t\talignItems: \"center\",\n\t\tbackgroundColor: \"#fc5200\",\n\t\tborderRadius: 20,\n\t\tpadding: 10,\n\t\televation: 2,\n\t\tboxShadowColor: \"#000\",\n\t\tboxShadowOffset: {\n\t\twidth: 0,\n\t\theight: 2\n\t\t},\n\t\tboxShadowOpacity: 0.25,\n\t\tboxShadowRadius: 4,\n\t},\n\tmodalContainer: {\n\t\tflex: 1,\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t},\n\tmodal: {\n\t\twidth: \"90%\",\n\t\tmarginLeft: \"5%\",\n\t\tbackgroundColor: \"#fc5200\",\n\t\tborderRadius: 20,\n\t\tpadding: 35,\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\tboxShadowColor: \"#000\",\n\t\tboxShadowOffset: {\n\t\twidth: 0,\n\t\theight: 2\n\t\t},\n\t\tboxShadowOpacity: 0.25,\n\t\tboxShadowRadius: 4,\n\t\televation: 5,\n\t},\n\tmodalLine: {\n\t\twidth: \"100%\",\n\t\tflexDirection: \"row\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"space-between\"\n\t},\n\tseparator: {\n\t\theight: 2,\n\t\tbackgroundColor: 'black',\n\t\tmarginTop: 8,\n\t\tmarginBottom: 8\n\t},\n\tname: {\n\t\tfontSize: 24,\n\t}\n});","import { useEffect, useState } from \"react\";\nimport {\n    StyleSheet,\n    Text,\n    View,\n    FlatList,\n    ActivityIndicator,\n    Pressable,\n    TextInput,\n    LayoutAnimation\n} from 'react-native';\nimport { Ionicons } from '@expo/vector-icons'; \nimport Activity from \"./Activity.js\";\n\nexport default function Feed(props) {\n    \n    const [activities, setActivities] = useState([]);\n    const [refreshing, setRefreshing] = useState(false)\n    const [loading, setLoading] = useState(true)\n    const [page, setPage] = useState(1)\n    const [distanceMeasure, setDistanceMeasure] = useState('1000')\n    const [timeMeasure, setTimeMeasure] = useState('')\n\n    useEffect(() => {\n        if (props.credentials.accessToken !== undefined) {\n            getActivities(false)\n        }\n    }, [props.credentials])\n\n    async function getActivities(refresh) {\n        refresh ? \n            setRefreshing(true) :\n            setLoading(true)\n        fetch(`https://www.strava.com/api/v3/athlete/activities?access_token=${props.credentials.accessToken}&per_page=10&page=${refresh ? 1 : page}`)\n            .then((res) => res.json())\n            .then((data) => {\n                data.forEach((el) => el.isExpanded = false)\n                setActivities(refresh ? data : activities.concat(data))\n                setPage(page + 1)\n            })\n            .catch(error => console.log(error))\n            .finally(() => {\n                setRefreshing(false)\n                setLoading(false)\n            })\n    }\n\n    function renderItem({ item }) {\n        return (\n            <Activity activity={item} distanceMeasure={distanceMeasure} timeMeasure={timeMeasure} credentials={props.credentials}/>\n        )\n    }\n\n    return (\n        <>\n            {(loading && activities.length === 0) ?\n            <ActivityIndicator style={{marginTop: 16}} size='large' color=\"black\"/>:\n            <FlatList\n                data={activities}\n                renderItem={renderItem}\n                keyExtractor={item => item.id}\n                keyboardDismissMode={'onDrag'}\n                onRefresh={() => {\n                    LayoutAnimation.configureNext(LayoutAnimation.Presets.easeInEaseOut);\n                    getActivities(true)\n                }}\n                refreshing={refreshing}\n                ListHeaderComponent={\n                    <View style={styles.item}>\n                        <View style={{flexDirection: \"row\", justifyContent: \"space-between\"}}>\n                            <Text style={{fontSize: 24}}>Distance [m]</Text>\n                            <TextInput\n                                style={styles.input}\n                                contextMenuHidden={true}\n                                selectionColor='#fc5200'\n                                inputMode={\"numeric\"}\n                                onChangeText={text => {\n                                    var number = text.replace(/[^0-9]/g, '')\n                                    isNaN(number) ?\n                                        setDistanceMeasure(0) :\n                                        setTimeMeasure('')\n                                        setDistanceMeasure(number)\n                                }}\n                                value={distanceMeasure.toString()}\n                            />\n                        </View>\n                        <View style={{flexDirection: \"row\", justifyContent: \"space-between\", marginTop: 5}}>\n                        <Text style={{fontSize: 24}}>Time [s]</Text>\n                        <TextInput\n                            style={styles.input}\n                            contextMenuHidden={true}\n                            selectionColor='#fc5200'\n                            inputMode={\"numeric\"}\n                            onChangeText={text => {\n                                var number = text.replace(/[^0-9]/g, '')\n                                isNaN(number) ?\n                                    setTimeMeasure('') :\n                                    setDistanceMeasure('')\n                                    setTimeMeasure(number)\n                            }}\n                            value={timeMeasure.toString()}\n                        />\n                        </View>\n                    </View>\n                }\n                ListFooterComponent={\n                    <Pressable \n                        style={[styles.item, {marginBottom: 16, alignItems: \"center\"}]}\n                        onPress={() => {\n                            LayoutAnimation.configureNext(LayoutAnimation.Presets.easeInEaseOut);\n                            getActivities(false)\n                        }}\n                    >\n                        {loading ? \n                            <ActivityIndicator style={{marginTop: 19, marginBottom: 19}} color=\"black\"/> :\n                            <View  style={{flexDirection: \"row\", marginTop: 13, marginBottom: 13}}>\n                                <Ionicons name=\"reload-circle\" size={28} color=\"black\" />\n                                <Text style={{fontSize: 24}}> Load more</Text>\n                            </View>\n                        }\n                    </Pressable>\n                }\n            />\n            }\n        </>\n    )\n}\n\nconst styles = StyleSheet.create({\n    item: {\n      marginHorizontal: 16,\n      marginTop: 16,\n      backgroundColor: \"#fc5200\",\n      borderRadius: 20,\n      padding: 16,\n      elevation: 2,\n      boxShadowColor: \"#000\",\n      boxShadowOffset: {\n        width: 0,\n        height: 2\n      },\n      boxShadowOpacity: 0.25,\n      boxShadowRadius: 4,\n    },\n    input: {\n      backgroundColor: \"white\",\n      width: 100,\n      fontSize: 24,\n      textAlign: \"center\",\n      borderRadius: 10\n    },\n  });\n  ","import React, { useState, useEffect } from \"react\";\nimport {\n\tStyleSheet,\n\tText,\n\tView,\n\tPlatform,\n\tUIManager,\n\tPressable,\n\tActivityIndicator,\n} from 'react-native';\nimport { Image } from 'expo-image';\nimport { SafeAreaProvider, SafeAreaView } from 'react-native-safe-area-context';\nimport { StatusBar } from 'expo-status-bar';\nimport * as WebBrowser from 'expo-web-browser';\nimport { makeRedirectUri, useAuthRequest, exchangeCodeAsync, TokenResponse, refreshAsync, revokeAsync } from 'expo-auth-session';\nimport Feed from \"./components/Feed\";\nimport * as SecureStore from 'expo-secure-store';\nimport { AntDesign } from '@expo/vector-icons';\n\nWebBrowser.maybeCompleteAuthSession();\n\nconst discovery = {\n\tauthorizationEndpoint: 'https://www.strava.com/oauth/mobile/authorize',\n\ttokenEndpoint: 'https://eou0f5t5ol4avvx.m.pipedream.net',\n\trevocationEndpoint: 'https://www.strava.com/oauth/deauthorize',\n};\n\nexport default function App() {\n\n\tconst [loggedIn, setLoggedIn] = useState(false)\n\tconst [credentials, setCredentials] = useState({})\n\tconst [loading, setLoading] = useState(false)\n\tconst [errorState, setErrorState] = useState('')\n\n\tuseEffect(() => {\n\t\tconst checkStoredCredentials = async () => {\n\t\t\tsetLoading(true)\n\t\t\tconst isAvailable = async () => await SecureStore.isAvailableAsync('credentials')\n\t\t\tconst getStoredCredentials = async () => await SecureStore.getItemAsync('credentials')\n\t\t\tconst storedCredentials = JSON.parse(await getStoredCredentials())\n\n\t\t\tif (await isAvailable() && storedCredentials !== null) {\n\t\t\t\tif (!TokenResponse.isTokenFresh(storedCredentials)) {\n\t\t\t\t\tconst refreshedCredentials = await refreshAsync(\n\t\t\t\t\t\t{clientId: '80072', refreshToken: storedCredentials.refreshToken},\n\t\t\t\t\t\tdiscovery\n\t\t\t\t\t)\n\t\t\t\t\n\t\t\t\t\tsetCredentials(refreshedCredentials)\n\t\t\t\t\tsetLoggedIn(true)\n\t\t\t\t\tsetLoading(false)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tsetCredentials(storedCredentials)\n\t\t\t\tsetLoggedIn(true)\n\t\t\t\tsetLoading(false)\n\t\t\t}\n\t\t}\n\n\t\tcheckStoredCredentials()\n\t}, [])\n\n\tconst [request, response, promptAsync] = useAuthRequest(\n\t\t{\n\t\t\tclientId: '80072',\n\t\t\tscopes: ['activity:read_all'],\n\t\t\tredirectUri: makeRedirectUri({\n\t\t\t\tscheme: 'fastestx',\n\t\t\t\tpath: 'FastestX'\n\t\t\t}),\n\t\t},\n\t\tdiscovery\n\t);\n\t\n\tasync function setAccessToken() {\n\t\tconst accessToken = await exchangeCodeAsync(\n\t\t\t{\n\t\t\t\tclientId: request?.clientId,\n\t\t\t\tredirectUri: makeRedirectUri({\n\t\t\t\t\tscheme: 'fastestx',\n\t\t\t\t\tpath: 'FastestX'\n\t\t\t\t}),\n\t\t\t\tcode: response?.params.code,\n\t\t\t},\n\t\t\tdiscovery\n\t\t)\n\t\t\n\t\tif (Platform.OS !== 'web') {\n\t\t\tawait SecureStore.setItemAsync('credentials', JSON.stringify(accessToken))\n\t\t}\n\t\tsetCredentials(accessToken)\n\t\tsetLoading(false)\n\t}\n\n\tuseEffect(() => {\n\t\tif (response?.type === 'success') {\n\t\t\tif(response?.params.scope === 'read,activity:read_all' || response?.params.scope === 'activity:read_all,read') {\n\t\t\t\tsetErrorState('')\n\t\t\t\tsetAccessToken()\n\t\t\t\tsetLoggedIn(true)\n\t\t\t} else {\n\t\t\t\tsetErrorState('wrong_scope')\n\t\t\t\tsetLoading(false)\n\t\t\t}\n\t\t} else if (response?.type === 'error') {\n\t\t\tsetErrorState(response?.params.error)\n\t\t\tsetLoading(false)\n\t\t} else {\n\t\t\tsetErrorState('')\n\t\t\tsetLoading(false)\n\t\t}\n\t}, [response])\n\n\tconst handleLogout = async () => {\n\t\tsetLoggedIn(false)\n\t\tawait revokeAsync({token: credentials.accessToken}, discovery)\n\t\tawait revokeAsync({token: credentials.refreshToken}, discovery)\n\t\tawait SecureStore.deleteItemAsync('credentials')\n\t\tsetLoading(false)\n\t}\n\n\tif (Platform.OS === 'android') {\n\t\tUIManager.setLayoutAnimationEnabledExperimental(true);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<StatusBar backgroundColor=\"#fc5200\" />\n\t\t\t<SafeAreaProvider>\n\t\t\t\t<SafeAreaView style={{flex: 1}}>\n\t\t\t\t\t<View style={[styles.topBar, {flexDirection: \"row\", justifyContent: \"space-between\"}]}>\n\t\t\t\t\t\t<Text style={styles.title}>FastestX</Text>\n\t\t\t\t\t\t{loggedIn && !errorState && \n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\tcachePolicy=\"memory-disk\"\n\t\t\t\t\t\t\t\t\tstyle={{height: 43, width: 104}}\n\t\t\t\t\t\t\t\t\tcontentFit=\"contain\"\n\t\t\t\t\t\t\t\t\tsource={require(\"./assets/api_logo_pwrdBy_strava_stack_white.svg\")}\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Pressable \n\t\t\t\t\t\t\t\t\tonPress={() => {\n\t\t\t\t\t\t\t\t\t\tsetLoading(true)\n\t\t\t\t\t\t\t\t\t\thandleLogout()\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tstyle={{marginRight: 16, justifyContent: 'center'}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<AntDesign\n\t\t\t\t\t\t\t\t\t\tname=\"logout\"\n\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\tcolor=\"black\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Pressable>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t</View>\n\t\t\t\t\t{\n\t\t\t\t\t\t!loggedIn && loading ?\n\t\t\t\t\t\t\t<View style={{marginTop: 16, justifyContent: \"space-between\", flex: 1}}>\n\t\t\t\t\t\t\t\t<ActivityIndicator size='large' color=\"black\"/>\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\tcachePolicy=\"memory-disk\"\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\t\theight: 63,\n\t\t\t\t\t\t\t\t\t\tmarginTop: 16\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tcontentFit=\"contain\"\n\t\t\t\t\t\t\t\t\tsource={require(\"./assets/api_logo_pwrdBy_strava_stack_light.svg\")}\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</View> :\n\t\t\t\t\t\t\tloggedIn ?\n\t\t\t\t\t\t\t\t<Feed credentials={credentials}></Feed> :\n\t\t\t\t\t\t\t\t<View style={{flex: 1, justifyContent: \"space-between\", alignSelf: \"stretch\", justifySelf: \"stretch\"}}>\n\t\t\t\t\t\t\t\t\t<View>\n\t\t\t\t\t\t\t\t\t\t{errorState ?\n\t\t\t\t\t\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{width: \"90%\", marginLeft: \"5%\", marginTop: 16, color: 'red', textAlign: \"center\", textAlign: \"center\"}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tThis app needs the permission to read all of your activities' data to work.\n\t\t\t\t\t\t\t\t\t\t\t</Text> : <></>}\n\t\t\t\t\t\t\t\t\t\t<Pressable\n\t\t\t\t\t\t\t\t\t\t\tstyle={{marginTop: 16}}\n\t\t\t\t\t\t\t\t\t\t\tonPress={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetLoading(true)\n\t\t\t\t\t\t\t\t\t\t\t\tpromptAsync()\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\t\t\t\tcachePolicy=\"memory-disk\"\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{height: 48}}\n\t\t\t\t\t\t\t\t\t\t\t\tcontentFit=\"contain\"\n\t\t\t\t\t\t\t\t\t\t\t\tsource={require(\"./assets/btn_strava_connectwith_orange.svg\")}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Pressable>\n\t\t\t\t\t\t\t\t\t\t<View style={{marginTop: 16}}>\n\t\t\t\t\t\t\t\t\t\t\t<Text style={{textAlign: \"center\"}}>Log in to see your activities</Text>\n\t\t\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t\t\t{(!loggedIn || errorState) && \n\t\t\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\t\t\tcachePolicy=\"memory-disk\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\t\t\t\theight: 63\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tcontentFit=\"contain\"\n\t\t\t\t\t\t\t\t\t\t\tsource={require(\"./assets/api_logo_pwrdBy_strava_stack_light.svg\")}\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t/>}\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t}\n\t\t\t\t</SafeAreaView>\n\t\t\t</SafeAreaProvider>\n\t\t</>\n\t);\n}\n\nconst styles = StyleSheet.create({\n\tcontainer: {\n\t\tdisplay: \"flex\"\n\t},\n\ttopBar: {\n\t\tbackgroundColor: \"#fc5200\",\n\t},\n\ttitle: {\n\t\tpaddingLeft: 16,\n\t\tfontSize: 32,\n\t},\n\titem: {\n\t\tmarginHorizontal: 16,\n\t\tmarginTop: 16,\n\t\tbackgroundColor: \"#fc5200\",\n\t\tborderRadius: 20,\n\t\tpadding: 16,\n\t\televation: 2,\n\t\tboxShadowColor: \"#000\",\n\t\tboxShadowOffset: {\n\t\t\twidth: 0,\n\t\t\theight: 2\n\t\t},\n\t\tboxShadowOpacity: 0.25,\n\t\tboxShadowRadius: 4,\n\t},\n\tinput: {\n\t\tbackgroundColor: \"white\",\n\t\twidth: 100,\n\t\tfontSize: 24,\n\t\ttextAlign: \"center\",\n\t\tborderRadius: 10\n\t},\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/FastestX/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [451], () => (__webpack_require__(6271)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["Activity","props","useEffect","LayoutAnimation","configureNext","Presets","easeInEaseOut","setExpanded","setFastestDistance","setDistanceMeasure","distanceMeasure","setTimeMeasure","timeMeasure","_useState","useState","_useState2","_slicedToArray","fastestDistance","_useState3","_useState4","loading","setLoading","_useState5","_useState6","expanded","_useState7","_useState8","_useState9","_useState10","_findFastestDistance","_asyncToGenerator","trivial_winner","start","distance","time","end","heartrate","elevation","gain","loss","range","_streams$altitude2","_streams$distance2","_streams$time2","_streams$heartrate2","streams","getStreams","activity","id","altitudeStream","altitude","data","distanceStream","timeStream","heartrateStream","fastestSegment","total_elevation_gain","Math","round","reduce","acc","curr","arr","elapsed_time","undefined","timeStreamUpperLimit","slice","_loop2","_i","j","indexOf","i","find","el","currentSegment","pace","timeInHoursAndMinutes","length","relevantAltitudeStream","_streams$altitude","_streams$distance","_streams$time","_streams$heartrate","distanceStreamUpperLimit","_loop","apply","arguments","hours","floor","rest","minutes","_x","_getStreams","fetch","credentials","accessToken","then","res","json","_jsxs","Pressable","style","styles","item","onPress","findFastestDistance","children","_jsx","Text","name","textAlign","Date","start_date","toLocaleDateString","Linking","openURL","color","textDecorationColor","textDecorationLine","View","width","separator","modalContainer","modalLine","justifyContent","isNaN","Ionicons","size","MaterialCommunityIcons","average_speed","_Fragment","display","fontSize","fontWeight","average_heartrate","replace","flex","marginRight","alignItems","marginLeft","FontAwesome5","ActivityIndicator","StyleSheet","create","marginHorizontal","marginTop","backgroundColor","borderRadius","padding","boxShadowColor","boxShadowOffset","height","boxShadowOpacity","boxShadowRadius","modal","flexDirection","marginBottom","Feed","activities","setActivities","refreshing","setRefreshing","page","setPage","_useState11","_useState12","getActivities","_getActivities","refresh","forEach","isExpanded","concat","catch","error","console","log","finally","FlatList","renderItem","_ref","keyExtractor","keyboardDismissMode","onRefresh","ListHeaderComponent","TextInput","input","contextMenuHidden","selectionColor","inputMode","onChangeText","text","number","value","toString","ListFooterComponent","WebBrowser","maybeCompleteAuthSession","discovery","authorizationEndpoint","tokenEndpoint","revocationEndpoint","App","loggedIn","setLoggedIn","setCredentials","errorState","setErrorState","checkStoredCredentials","isAvailable","_ref2","SecureStore","isAvailableAsync","getStoredCredentials","_ref3","getItemAsync","storedCredentials","JSON","parse","TokenResponse","isTokenFresh","refreshedCredentials","refreshAsync","clientId","refreshToken","_useAuthRequest","useAuthRequest","scopes","redirectUri","makeRedirectUri","scheme","path","_useAuthRequest2","request","response","promptAsync","_setAccessToken","exchangeCodeAsync","code","params","Platform","OS","setItemAsync","stringify","type","scope","setAccessToken","handleLogout","_ref4","revokeAsync","token","deleteItemAsync","UIManager","setLayoutAnimationEnabledExperimental","StatusBar","SafeAreaProvider","SafeAreaView","topBar","title","Image","cachePolicy","contentFit","source","require","AntDesign","alignSelf","justifySelf","container","paddingLeft","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","key","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","e","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"sourceRoot":""}